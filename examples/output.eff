(* Output that collects prints into a list *)

std#write "Please enter your name:" ;
let response = handle
  std#write "Hello ";
  std#write (std#read ());
  std#write "!"
with
| std#write x k -> fun c -> k () (c ^ x)
| std#read () k -> fun c -> k "Anonymous" c
| val () -> fun c -> c
| finally f -> f ""
in
std#write "And here is your premade response:" ;
std#write response
