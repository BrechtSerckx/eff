
effect WriteInt : int -> unit;;

with
  (handler
    | effect (WriteInt n) k -> n + k ()
    | x -> 0
  )
handle
  let rec f x = if x = 0
                  then ()
                  else perform (WriteInt x); f (x - 1)
  in f 10

